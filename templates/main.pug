doctype html
html
  head
    mixin callout(title, href)
      .callout(style="display:none") #[= title] (#[a(href=href) read more...])
        a#closeButton(onclick="this.parentElement.style.display='none';") &times;

    != lang("en")
    != viewport(true)
    != webapp("#002610")
    != screenshot("http://www.highlandfrs.com/images/logo" + jpgExt)
    != twitter("@HighlandFRS")
    != liveReload
    != css(fileRoot + "css/style" + cssExt)
    block head
      script(src=fileRoot + "header" + jsExt, async, defer)
      script(src="https://js.stripe.com/v3/")
  body
    header
      a#mainLogoWrapper(href=fileRoot + "index.html"): img#mainLogo(src=fileRoot + "images/logo" + svgExt, alt="logo", title="Highland FRS logo")
      nav
        ul
          li: a(href=fileRoot + "index.html#services_anchor") services
          li: a(href=fileRoot + "index.html#about_anchor") about
          li: != offsite("https://calendly.com/melody-mcbeth", "contact")
          li: a(href=fileRoot + "index.html#customers_anchor") customers
          li: a(href=fileRoot + "index.html#news_anchor") news
          li: a(href=fileRoot + "downloads.html") downloads
    section#content
      block content
    footer
      block footer
        | Copyright &copy; Highland FRS LLC, 2010 - 2017. #[i The Raiser's Edge]&trade; and #[i Raiser's Edge NXT]&trade; are registered trademarks of Blackbaud&reg;, Inc. #[i Crystal Reports]&trade; is a registered trademark of SAP.
    script.
      (function(){
        var lastBoxPromise = Promise.resolve();
        var boxes = document.querySelectorAll(".callout");
        for(var i = 0; i < boxes.length; ++i) {
          lastBoxPromise = lastBoxPromise.then(function(box) {
            var y = -150,
              w = 3000,
              o = 1;

            box.style.top = y + "px";
            box.style.display = "";

            return new Promise(function (resolve, reject){
              var timer = setInterval(function(){
                if(y < 0){
                  y += 2  ;
                  box.style.top = Math.min(0, y) + "px";
                }
                else if(w > 0) {
                  w -= 10;
                }
                else if(o > 0){
                  o -= 0.025;
                  box.style.opacity = o;
                }
                else {
                  clearInterval(timer);
                  box.style.display = "none";
                  resolve();
                }
              }, 10);
            });
          }.bind(window, boxes[i]));
        }
      })();
