!function(){function a(a){function c(){for(var b=0,c=0;c<h.length;++c)b=Math.max(b,h[c].clientHeight);a.style.position="relative",a.style.height=b+l.clientHeight+"px"}function d(a){h[a].style.opacity=0,k[a].style.cursor="pointer",k[a].style.opacity=.25}function e(a){h[a].style.opacity=1,k[a].style.cursor="default",k[a].style.opacity=1}function f(a){d(j),m=0,j=a,e(j)}function g(){var b=a.getBoundingClientRect(),c=b.bottom>=0&&b.top<=window.innerHeight;return c}for(var h=[],i=a.children.length,j=0,k=[],l=document.createElement("div"),m=0,n=a.dataset.timeout||3e3,o=n/2,p=0;i>p;++p)h[p]=a.children[p],h[p].style.position="absolute",h[p].style.marginTop=0,h[p].style.marginBottom=0,k[p]=document.createElement("span"),k[p].innerHTML="●",k[p].className="pip",k[p].onclick=f.bind(this,p),l.appendChild(k[p]),p>0?d(p):e(p);l.style.margin=0,l.style.padding=0,a.insertBefore(l,h[0]),c(),window.addEventListener("resize",c,!1);var q=0;this.update=function(a){var c=a-q;q=a,m+=c,g()&&(m>=n&&f((j+1)%i),h[j].style.opacity=Math.min(1,(o-Math.abs(m-o))/b))}}var b=500;window.addEventListener("load",function(){function b(a){requestAnimationFrame(b);for(var d=0;d<c.length;++d)c[d].update(a)}for(var c=[],d=document.querySelectorAll(".rotator"),e=0;e<d.length;++e)c.push(new a(d[e]));requestAnimationFrame(b)},!1)}();