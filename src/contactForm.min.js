!function(){"use strict";function a(){this.value=this.value.trim()}function b(){function a(a,b){clearInterval(h),e.parentElement.style.backgroundColor="",e.style.display="none",a.style.display="block",a.scrollIntoView(),window.ga&&ga("send","event","contactlist",b)}var e=document.querySelector("#contactForm"),f=document.querySelector("#submissionSuccess"),g=document.querySelector("#submissionError");d.className,d.href;if(e.reportValidity()){e.parentElement.style.backgroundColor="#c0c0c0",d.className+=" disabled",d.innerHTML="Submitting...";var h=setInterval(function(){d.innerHTML+="."},1e3);d.removeEventListener("click",b),d.style.cursor="wait";var i=c.reduce(function(a,b){var c=e["contact_"+b],d=c.value;return d=d.trim(),d.length>0&&(a[b]=d),c.disabled=!0,a},{});sendObjectGetObject("/contacts/",{data:i}).then(function(b){a(f,"success");var c=document.querySelector("#callbackName");c.innerHTML="",c.appendChild(document.createTextNode(i.name))})["catch"](a.bind(null,g,"fail"))}}HTMLFormElement.prototype.reportValidity||(HTMLFormElement.prototype.reportValidity=function(){for(var a=this.querySelectorAll("input, textarea"),b=!0,c=null,d=0;d<a.length;++d){var e=a[d],f=!0,g=e.pattern;if(!g)switch(e.type){case"email":g="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}"}if(e.style.backgroundColor="",e.required&&0===e.value.length)f=!1;else if(e.value.length>0&&g){var h=new RegExp("^"+g+"$");f=h.test(e.value)}f||(e.style.backgroundColor="#ffc0c0",c||(c=e)),b=b&&f}return c&&c.scrollIntoView(),b});var c=["name","email","phone","company","description"],d=null;window.addEventListener("load",function(){document.forms&&document.forms.contactForm&&(Array.prototype.slice.call(document.forms.contactForm.querySelectorAll("input, textarea")).forEach(function(b){b.addEventListener("blur",a.bind(b),!1)}),d=document.getElementById("submitContact"),d.addEventListener("click",b))},!1)}();