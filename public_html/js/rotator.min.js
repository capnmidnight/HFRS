
waitFor(function(){return document.body},function(){var d=500;function c(h){var r=[],p=h.children.length,g=0,q=[],j=document.createElement("div"),w=0,f=h.dataset.timeout||3000,v=f/2;for(var l=0;l<p;++l){r[l]=h.children[l];q[l]=document.createElement("span");q[l].innerHTML="●";q[l].className="pip";q[l].onclick=m.bind(this,l);j.appendChild(q[l]);if(l>0){o(l)}else{u(l)}}h.insertBefore(j,r[0]);function o(n){r[n].style.opacity=0;q[n].style.cursor="pointer";q[n].style.opacity=0.25}function u(n){r[n].style.opacity=1;q[n].style.cursor="default";q[n].style.opacity=1}function m(n){o(g);w=0;g=n;u(g)}function s(){var n=h.getBoundingClientRect(),i=n.bottom>=0&&n.top<=window.innerHeight;return i}var k=0;this.update=function(n){var i=n-k;k=n;w+=i;if(s()){if(w>=f){m((g+1)%p)}r[g].style.opacity=Math.min(1,(v-Math.abs(w-v))/d)}}}var a=Array.prototype.slice.call(document.querySelectorAll(".rotator"));for(var b=0;b<a.length;++b){a[b]=new c(a[b])}function e(g){requestAnimationFrame(e);for(var f=0;f<a.length;++f){a[f].update(g)}}requestAnimationFrame(e)});